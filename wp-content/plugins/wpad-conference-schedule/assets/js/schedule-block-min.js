!function(e){var t=e.blocks.registerBlockType,n=e.editor.InspectorControls,l=e.components.TextControl,a=e.components.SelectControl,o=e.components.CheckboxControl,r=e.compose.withState,s=e.element.createElement,c=e.components.ServerSideRender,u=e.components.DateTimePicker,h=e.i18n.__;function p(e){if(null==e)var e=new Date;else var e=new Date(e);var t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),l=e.getFullYear();return e=l+"-"+n+"-"+t}const b=[];e.apiFetch({path:"/wp/v2/session_track"}).then((e=>{e.forEach((function(e,t){b.push({id:e.id,name:e.name,slug:e.slug})}))})),t("wpcs/schedule-block",{title:"Conference Schedule",icon:"schedule",category:"common",supports:{align:!0,align:["wide","full"]},attributes:{date:{type:"string",default:p(null)},color_scheme:{type:"string",default:"light"},layout:{type:"string",default:"table"},session_link:{type:"string",default:"permalink"},tracks:{type:"string",default:null}},edit:function(e){var t=e.attributes,l=e.setAttributes,r=e.attributes.date,h=e.attributes.color_scheme,g=e.attributes.layout,d=e.attributes.session_link,k=e.attributes.tracks;if(null!=k)var v=k.split(",");else var v=[];for(trackCheckboxes=[],i=0;i<b.length;i++){if(0==i)var f="Tracks";else var f=null;trackCheckboxes.push(s(o,{key:b[i].slug,label:b[i].name,name:"tracks[]",value:b[i].slug,checked:v.includes(b[i].slug),heading:f,onChange:function(e){var t=event.target.value,n=v.indexOf(t);n>-1?v.splice(n,1):v.push(t),l({tracks:v.join()})}}))}return[s(c,{block:"wpcs/schedule-block",attributes:e.attributes}),s(n,{},s(u,{currentDate:r,locale:"en",onChange:function(e){l({date:p(e)})},selected:r}),s(a,{label:"Color Scheme",value:h,options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],onChange:function(e){l({color_scheme:e})}}),s(a,{label:"Layout",value:g,options:[{value:"table",label:"Table"},{value:"grid",label:"Grid"}],onChange:function(e){l({layout:e})}}),s(a,{label:"Session Link",value:d,options:[{value:"permalink",label:"Permalink"},{value:"anchor",label:"Anchor"},{value:"none",label:"None"}],onChange:function(e){l({session_link:e})}}),trackCheckboxes)]},save:function(e){return null}})}(window.wp);